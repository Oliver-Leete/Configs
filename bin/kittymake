#!/bin/bash

TITLES=$(kitty @ ls | jq ".[] | select(.is_focused) | .tabs[] | select(.is_focused) | .windows[].title")

if ! [[ "$TITLES" =~ \"buildingterm\" ]]; then
   kitty @ launch --type=window --window-title="buildingterm" --keep-focus
fi

if [ "$#" -eq 0 ]; then
    kitty @ focus-window --match title:buildingterm
fi

kitty @ send-text --match title:buildingterm $@\\r

