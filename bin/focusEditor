#!/bin/bash

if [[ "$(wmctrl -d | grep '*')" == *"PhD"* ]]; then
    winTitle="MainEditor (Synctex)"
else
    winTitle="MainEditor"
fi
TITLES=$(kitty @ ls | jq ".[].tabs[] | select(.is_focused) | .windows[].title")

if [[ "$TITLES" == *"$winTitle"* ]]; then
    kitty @ focus-window --match title:$winTitle
else
    kitty @ launch --location before nvrStart
fi
