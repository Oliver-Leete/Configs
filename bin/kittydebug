#!/bin/bash

TITLES=$(kitty @ ls | jq ".[] | select(.is_focused) | .tabs[] | select(.is_focused) | .windows[].title")

if ! [[ "$TITLES" =~ \"debugterm\" ]]
then
   kitty @ launch --type=window --window-title="debugterm" --keep-focus $1
fi

shift
kitty @ send-text --match title:debugterm $@\\r
